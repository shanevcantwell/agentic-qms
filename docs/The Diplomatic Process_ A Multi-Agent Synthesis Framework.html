<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Diplomatic Process: A Multi-Agent Synthesis Framework</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-bg: #0A0A0A;
            --color-text: #E0E0E0;
            --color-text-dim: #999999;
            --color-border: #2A2A2A;
            --color-card: #141414;
            --color-accent: #00F5D4; /* Main Accent - Teal */
            --color-gemini: #4A90E2; /* Blue */
            --color-claude: #9013FE; /* Purple */
            --color-synth: #F5A623;  /* Orange */
            --color-validator: #00F5D4; /* Teal */
        }

        body {
            background-color: var(--color-bg);
            color: var(--color-text);
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .glow-accent {
            filter: drop-shadow(0 0 12px rgba(0, 245, 212, 0.3));
        }
        .glow-gemini {
            filter: drop-shadow(0 0 10px rgba(74, 144, 226, 0.4));
        }
        .glow-claude {
            filter: drop-shadow(0 0 10px rgba(144, 19, 254, 0.4));
        }

        .connector-path {
            stroke-width: 1.5px;
            fill: none;
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
            animation: draw-line 2s ease-out forwards;
            animation-delay: var(--delay, 0s);
        }

        @keyframes draw-line {
            to {
                stroke-dashoffset: 0;
            }
        }

        .fade-in-up {
            opacity: 0;
            transform: translateY(20px);
            animation: fade-in-up-anim 0.8s cubic-bezier(0.215, 0.610, 0.355, 1.000) forwards;
            animation-delay: var(--delay, 0s);
        }

        @keyframes fade-in-up-anim {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .node-card {
            background-color: var(--color-card);
            border: 1px solid var(--color-border);
            transition: all 0.3s ease;
        }

        .node-card:hover {
            border-color: var(--color-accent);
            transform: translateY(-4px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .subgraph-title {
            color: var(--color-text-dim);
            font-size: 0.8rem;
            font-weight: 500;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            text-align: center;
            margin-bottom: 1rem;
        }
    </style>
</head>
<body class="overflow-x-hidden">

    <div class="relative min-h-screen w-full">
        <!-- Background Gradient -->
        <div class="absolute top-0 left-0 w-full h-full z-0">
            <div class="absolute top-[-20%] left-[-10%] w-[40%] h-[60%] bg-blue-900/30 rounded-full blur-3xl opacity-40"></div>
            <div class="absolute bottom-[-20%] right-[-10%] w-[40%] h-[60%] bg-purple-900/30 rounded-full blur-3xl opacity-40"></div>
        </div>

        <main class="relative z-10 p-4 sm:p-8 md:p-12">
            <!-- Header -->
            <header class="fade-in-up">
                <h1 class="text-3xl sm:text-4xl md:text-5xl font-bold text-center text-white">
                    The Diplomatic Process
                </h1>
                <p class="mt-4 max-w-3xl mx-auto text-center text-lg text-gray-400">
                    A multi-agent framework for robust, verifiable AI synthesis. By structuring AI interaction as a diplomatic negotiation, we prevent model drift and ensure outputs remain grounded in a foundational source of truth.
                </p>
            </header>

            <!-- Visualization -->
            <div id="visualization-container" class="relative mt-16 md:mt-24 max-w-7xl mx-auto">
                <!-- SVG for Connectors -->
                <svg id="connector-svg" class="absolute top-0 left-0 w-full h-full z-0" aria-hidden="true"></svg>

                <!-- Grid Layout for Nodes -->
                <div class="relative z-10 grid grid-cols-1 md:grid-cols-12 gap-y-12 md:gap-x-8 md:gap-y-16 items-center">
                    
                    <!-- Row 1: Source of Truth -->
                    <div class="md:col-start-5 md:col-span-4 fade-in-up" style="--delay: 0.2s;">
                        <div class="subgraph-title">The Law of the Land</div>
                        <div id="node-A" class="node-card p-4 rounded-lg text-center">
                            <h3 class="font-semibold text-white">Source of Truth</h3>
                            <p class="text-sm text-gray-400 mt-1">Immutable context, rules, and data.</p>
                        </div>
                    </div>

                    <!-- Row 2: Tribal Territories -->
                    <div class="md:col-span-12 grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="fade-in-up" style="--delay: 0.4s;">
                            <div class="subgraph-title">Gemini Tribe</div>
                            <div id="node-B" class="node-card p-4 rounded-lg text-center border-l-4" style="border-left-color: var(--color-gemini);">
                                <h3 class="font-semibold text-white">Progenitor A</h3>
                                <p class="text-sm text-gray-400 mt-1">Generates initial perspective.</p>
                            </div>
                        </div>
                        <div class="fade-in-up" style="--delay: 0.5s;">
                            <div class="subgraph-title">Claude Tribe</div>
                            <div id="node-C" class="node-card p-4 rounded-lg text-center border-l-4" style="border-left-color: var(--color-claude);">
                                <h3 class="font-semibold text-white">Progenitor B</h3>
                                <p class="text-sm text-gray-400 mt-1">Generates alternate perspective.</p>
                            </div>
                        </div>
                    </div>

                    <!-- Row 3: The Council -->
                    <div class="md:col-start-5 md:col-span-4 fade-in-up" style="--delay: 0.6s;">
                        <div class="subgraph-title">The Council</div>
                        <div id="node-F" class="node-card p-4 rounded-lg text-center border-l-4" style="border-left-color: var(--color-synth);">
                            <h3 class="font-semibold text-white">Synthesizer C</h3>
                            <p class="text-sm text-gray-400 mt-1">Drafts a unified proposal.</p>
                        </div>
                    </div>
                    
                    <!-- Row 4: The Neutral Arbiter -->
                    <div class="md:col-start-5 md:col-span-4 fade-in-up" style="--delay: 0.8s;">
                        <div class="subgraph-title">The Neutral Arbiter</div>
                        <div id="node-H" class="node-card p-4 rounded-lg text-center border-l-4 glow-accent" style="border-left-color: var(--color-validator);">
                            <h3 class="font-semibold text-white">Validator D</h3>
                            <p class="text-sm text-gray-400 mt-1">Verifies proposal against all sources.</p>
                        </div>
                    </div>
                    
                    <!-- Row 5: Output -->
                    <div class="md:col-start-5 md:col-span-4 fade-in-up" style="--delay: 1s;">
                         <div id="node-Output" class="node-card p-6 rounded-lg text-center bg-green-500/10 border-green-400/50">
                            <h3 class="font-bold text-lg text-white">Final, Ratified Artifact</h3>
                            <p class="text-sm text-green-300 mt-1">Verified, coherent, and reliable output.</p>
                        </div>
                    </div>

                    <!-- Lingua Franca (positioned absolutely on desktop) -->
                    <div class="md:absolute md:left-0 md:top-1/2 md:-translate-y-1/2 md:w-1/4 fade-in-up" style="--delay: 1.2s;">
                        <div class="subgraph-title">The Lingua Franca</div>
                        <div id="node-SI" class="node-card p-4 rounded-full text-center aspect-square flex items-center justify-center flex-col mx-auto max-w-[200px]">
                            <h3 class="font-semibold text-white text-sm leading-tight">Semantic Instrumentation</h3>
                            <p class="text-xs text-gray-400 mt-2">via Gemini Embeddings</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Explanations Section -->
            <section class="mt-24 md:mt-32 max-w-7xl mx-auto">
                <h2 class="text-3xl font-bold text-center text-white fade-in-up" style="--delay: 1.4s;">Core Components</h2>
                <div class="mt-12 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    
                    <div class="node-card p-6 rounded-lg fade-in-up" style="--delay: 1.5s;">
                        <h3 class="text-xl font-semibold text-white">The Law of the Land</h3>
                        <p class="mt-3 text-gray-400">The foundational, immutable source context. This is the "Source of Truth," containing the core instructions, data, and constraints. It acts as the constitution for the entire process, preventing the "Whispering Gallery Effect" by providing a constant, reliable reference point.</p>
                    </div>

                    <div class="node-card p-6 rounded-lg fade-in-up" style="--delay: 1.6s;">
                        <h3 class="text-xl font-semibold text-white">Tribal Territories</h3>
                        <p class="mt-3 text-gray-400">Specialized AI models (the "Tribes") each generate an independent perspective or "Progenitor" output based on The Law. This diversity of interpretation is crucial for exploring the solution space and avoiding the biases of a single model.</p>
                    </div>

                    <div class="node-card p-6 rounded-lg fade-in-up" style="--delay: 1.7s;">
                        <h3 class="text-xl font-semibold text-white">The Diplomatic Process</h3>
                        <p class="mt-3 text-gray-400">A two-stage process. The <span class="text-amber-400">Synthesizer</span> combines the tribal perspectives into a single "Proposed Treaty." The <span class="text-cyan-400">Validator</span> then acts as a neutral arbiter, rigorously checking the treaty against the original Law and tribal contexts to ensure no meaning is lost or distorted.</p>
                    </div>

                    <div class="node-card p-6 rounded-lg fade-in-up" style="--delay: 1.8s;">
                        <h3 class="text-xl font-semibold text-white">The Lingua Franca</h3>
                        <p class="mt-3 text-gray-400">A common semantic space, typically powered by embeddings. It allows for objective comparison between the different text-based outputs. The Validator uses this to measure semantic drift and ensure all claims in the final artifact are traceable to their source.</p>
                    </div>

                </div>
            </section>
        </main>
        
        <footer class="text-center p-8 mt-16">
            <p class="text-gray-600">Reflective Attention Framework</p>
        </footer>
    </div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('is-visible');
                if (entry.target.id === 'visualization-container') {
                    // Use a timeout to ensure elements are rendered and positioned
                    setTimeout(drawConnectors, 100);
                }
            }
        });
    }, { threshold: 0.1 });

    document.querySelectorAll('.fade-in-up').forEach(el => observer.observe(el));
    observer.observe(document.getElementById('visualization-container'));

    const svg = document.getElementById('connector-svg');
    const container = document.getElementById('visualization-container');

    function createConnector(startNodeId, endNodeId, color, label, delay, options = {}) {
        const startNode = document.getElementById(startNodeId);
        const endNode = document.getElementById(endNodeId);
        if (!startNode || !endNode) return;

        const containerRect = container.getBoundingClientRect();
        const startRect = startNode.getBoundingClientRect();
        const endRect = endNode.getBoundingClientRect();

        let startX, startY, endX, endY;

        // Default connection points
        let startPoint = { x: startRect.left + startRect.width / 2, y: startRect.bottom };
        let endPoint = { x: endRect.left + endRect.width / 2, y: endRect.top };

        // Override for specific connections
        if (options.startSide === 'left') {
            startPoint = { x: startRect.left, y: startRect.top + startRect.height / 2 };
        } else if (options.startSide === 'right') {
            startPoint = { x: startRect.right, y: startRect.top + startRect.height / 2 };
        }
        
        if (options.endSide === 'left') {
            endPoint = { x: endRect.left, y: endRect.top + endRect.height / 2 };
        } else if (options.endSide === 'right') {
            endPoint = { x: endRect.right, y: endRect.top + endRect.height / 2 };
        }

        startX = startPoint.x - containerRect.left;
        startY = startPoint.y - containerRect.top;
        endX = endPoint.x - containerRect.left;
        endY = endPoint.y - containerRect.top;

        const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
        
        // Create a smooth curve
        const c1x = startX;
        const c1y = startY + (endY - startY) * 0.5;
        const c2x = endX;
        const c2y = endY - (endY - startY) * 0.5;
        
        let d = `M ${startX} ${startY} C ${c1x} ${c1y}, ${c2x} ${c2y}, ${endX} ${endY}`;
        
        // Special path for SI node
        if (options.isSI) {
            const midY = startY + (endY - startY) / 2;
            d = `M ${startX} ${startY} L ${endX} ${startY} L ${endX} ${endY}`;
        }


        path.setAttribute('d', d);
        path.setAttribute('class', 'connector-path');
        path.setAttribute('stroke', color);
        path.style.setProperty('--delay', `${delay}s`);
        
        // Add marker for arrowhead
        const markerId = `arrowhead-${color.replace('#', '')}`;
        if (!document.getElementById(markerId)) {
            const defs = svg.querySelector('defs') || document.createElementNS('http://www.w3.org/2000/svg', 'defs');
            const marker = document.createElementNS('http://www.w3.org/2000/svg', 'marker');
            marker.setAttribute('id', markerId);
            marker.setAttribute('viewBox', '0 0 10 10');
            marker.setAttribute('refX', '8');
            marker.setAttribute('refY', '5');
            marker.setAttribute('markerWidth', '6');
            marker.setAttribute('markerHeight', '6');
            marker.setAttribute('orient', 'auto-start-reverse');
            const arrowPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            arrowPath.setAttribute('d', 'M 0 0 L 10 5 L 0 10 z');
            arrowPath.setAttribute('fill', color);
            marker.appendChild(arrowPath);
            defs.appendChild(marker);
            svg.prepend(defs);
        }
        path.setAttribute('marker-end', `url(#${markerId})`);

        svg.appendChild(path);
    }

    function drawConnectors() {
        svg.innerHTML = ''; // Clear previous connectors
        
        // A -> B, A -> C
        createConnector('node-A', 'node-B', 'var(--color-gemini)', 'The Law', 0.5);
        createConnector('node-A', 'node-C', 'var(--color-claude)', 'The Law', 0.6);
        
        // B -> F, C -> F
        createConnector('node-B', 'node-F', 'var(--color-gemini)', 'Gemini Perspective', 0.8);
        createConnector('node-C', 'node-F', 'var(--color-claude)', 'Claude Perspective', 0.9);
        
        // A -> F
        createConnector('node-A', 'node-F', 'var(--color-text-dim)', 'The Law', 1.0);
        
        // F -> H
        createConnector('node-F', 'node-H', 'var(--color-synth)', 'Proposed Treaty', 1.2);
        
        // H -> Output
        createConnector('node-H', 'node-Output', 'var(--color-validator)', 'Validation Report', 1.4);

        // Connections to Validator H (Original Context)
        createConnector('node-A', 'node-H', 'var(--color-text-dim)', 'Original Context', 1.3, {startSide: 'left', endSide: 'left'});
        createConnector('node-B', 'node-H', 'var(--color-text-dim)', 'Original Context', 1.3, {startSide: 'left', endSide: 'left'});
        createConnector('node-C', 'node-H', 'var(--color-text-dim)', 'Original Context', 1.3, {startSide: 'right', endSide: 'right'});

        // Connections to Lingua Franca SI
        if (window.innerWidth >= 768) { // Only draw these complex lines on desktop
            createConnector('node-B', 'node-SI', 'var(--color-text-dim)', 'Translate & Compare', 1.5, {startSide: 'left', endSide: 'right'});
            createConnector('node-C', 'node-SI', 'var(--color-text-dim)', 'Translate & Compare', 1.5, {startSide: 'left', endSide: 'right'});
            createConnector('node-F', 'node-SI', 'var(--color-text-dim)', 'Translate & Compare', 1.5, {startSide: 'left', endSide: 'right'});
            createConnector('node-H', 'node-SI', 'var(--color-text-dim)', 'Translate & Compare', 1.5, {startSide: 'left', endSide: 'right'});
        }
    }

    // Redraw on resize, with a debounce to avoid performance issues
    let resizeTimeout;
    window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(drawConnectors, 250);
    });
});
</script>

</body>
</html>
